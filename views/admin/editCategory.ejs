<%-include('header')-%>

<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <div style="width: 100%;" class="col-sm-12 col-xl-6">
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4">EDIT CATEGORY</h6>
                <% if (message) { %>
                    <div class="alert alert-<%= message.type %> alert-dismissible fade show" role="alert" id="alert">
                        <strong><%= message.message %></strong>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                <% } %> 
                <div id="err" style="color: red;"></div>
                
                <form method="post" action="/admin/editCategory/<%= category.id %>" class="mt-5" id="editCategory">
                    <div class="mb-3">
                        <label for="Kategori" class="form-label">Category</label>
                        <input name="category" value="<%= category.category %> " type="text" class="form-control" id="addCategory">
                            <div id="error" style="color: red;"></div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button id="button1" class="btn btn-primary" type="submit">Update</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('button1').addEventListener('click',(e) => {
        e.preventDefault();

        document.getElementById('error').innerHTML = '';

        const category = document.getElementById('addCategory').value.trim();
        if(category === ''){
            document.getElementById('error').innerHTML = 'Enter Category';
            return;
        }
        document.getElementById('editCategory').submit();
    });
</script>

<%-include('footer')-%>